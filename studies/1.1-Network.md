# Как улучшить сетевое взаиможействие:
	* кэш
		* ручное кэширование SQLite - сложно, но дает контроль
		* библиотеками - хорошо, но потом возникнут сложности
	* сжатие

	* правильно выбрать протокол
		* HTTP
			+ куча плюсов - простой, использует json, xml, кэширует, прозрачный (данные передаются в человеко-читаемом виде)
			- но и минусы - избыточность (например, несжимаемые заголовки) и много вещей, которые надо учитывать

		* работа с сокетом напрямую
			+ обычно используется, когда нужно постоянное соединение с сервером
			+ экономия ресурсов сервера
			+ оптимизирует трафик
			+ отсутствие избыточности

			- сложно разрабатывать и поддерживать

	* оптимизировать API
		* получать только изменения
		* комбинировать несколько запросов

	* оптимизировать сервер
		* корректная настройка
		* улучшить расположение ближе
		* поддержать улучшенный протокол (SPDY, HTTP/2)

	-----------
	* исключать сетевые запросы в закрытом приложении
	* выполнять запрос только при необходимости
	* группировать запросы
		* проблема: если данные обновляются редко, то запросы гоняются вхолостую и тратят батарею
	* а еще надо, чтобы все было безопасно:)


# Как обновлять информацию
	* перезапрос данных
		* показываем данные из кэша (лучше показать что-то, чем ничего). Да, кэш устарел, но мы пока не будем его удалять. А если и правда устарели, то предложить пользователю обновить
	* Long-poll
		* оптимизировать трафик, потому что фактически это постоянные фоновый запрос
			* проблема: посредники утанавливают таймаут. Можно ориентироваться примерно на 25-30 секунд

	* push-уведомления
		* тот же long-poll, который исполняется google-сервисами
		работают, только если установлены сервисы google
		* размер ограничен 4kb
			проблема: нет гарантии мгновенности и доставки вообще

# Как исполнять запросы в Android
	* Apache HTTP Client
		+ удобный и понятный
		- тяжелый
		- в Android3 - deprecated, 6 - исключен из SDK

	* HTTPURLConnection
		+ скорость
		- низкий слой абстракции - сложно поддерживать
		- тяжелый
		* рекомендован Google вместо Apache Http Client

	* Библиотека OkHttp
		+ удобный интерфейс
		+ много функций из коробки, в том числе поддержка SPDY
		(короче, лучше именно ее и использовать)

# Важно:
	* надо всегда настраивать timeout для запросов, потому что на любом уровне он может зависнуть
	
	* не полагаться на http-headers - прокси-сервер может добавлять, изменять и удалять заголовки (очень редко, но бывает)
	
	* не забывать, что http get-запросы могут кэшироваться (если они одинаковые)
	
	* ошибка не значит, что запрос не выполнился. запрос мог дойти до сервера, выполниться, попытаться вернуть результат - и только здесь уже сломаться. Чтобы избежать дублирования данных, надо вместе с запросом передавать уникальный id-шник

	* использовать jsonobject, если большой объем данных

	* оптимизировать только после создания. (Пф, да он издевается.)

	* придерживаться стандартов

	* использовать бинарный формат только при необходимости

	
